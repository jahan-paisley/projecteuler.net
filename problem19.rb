class Problem19
  
  def initialize 
    @array=
                                   [[75],
                                  [95, 64],
                                [17, 47, 82],
                              [18, 35, 87, 10],
                            [20,  4, 82, 47, 65],
                          [19,  1, 23, 75,  3, 34],
                        [88,  2, 77, 73,  7, 63, 67],
                      [99, 65,  4, 28,  6, 16, 70, 92],
                    [41, 41, 26, 56, 83, 40, 80, 70, 33],
                  [41, 48, 72, 33, 47, 32, 37, 16, 94, 29],
                [53, 71, 44, 65, 25, 43, 91, 52, 97, 51, 14],
              [70, 11, 33, 28, 77, 73, 17, 78, 39, 68, 17, 57],
            [91, 71, 52, 38, 17, 14, 91, 43, 58, 50, 27, 29, 48],
          [63, 66,  4, 68, 89, 53, 67, 30, 73, 16, 69, 87, 40, 31],
        [ 4, 62, 98, 27, 23,  9, 70, 98, 73, 93, 38, 53, 60,  4, 23]]
    # [
    #   [1],
    #   [2,2],
    #   [3,2,3],
    #   [4,2,3,4],
    #   [5,2,3,4,5],
    #   [6,2,3,4,5,6],
    #   [7,2,3,4,5,6,7],
    #   [8,2,3,4,5,6,7,8],      
    #   [9,2,3,4,5,6,7,8,9],      
    #   [10,2,3,4,5,6,7,8,9,10],      
    #   [11,2,3,4,5,6,7,8,9,10,11],
    #   [12,2,3,4,5,6,7,8,9,10,11,12],
    #   [14,2,3,4,5,,7,8,9,10,11,23,13]            
    #  ]
    
    # [
    #   [1], #1
    #   [1,3], #2
    #   [1,1,1], #3
    #   [6,1,1,1], #4
    #   [1,1,1,1,7], #5
    #   [10,1,1,1,1,1], #6
    #   [1 ,1,1,15,1,1,7]  #7
    #  ]    
     
  end
  
  def run
    require 'pry'
    sums= [[@array[0][0]]]
    for i in 1..@array.length-1
        # binding.pry
        result= clear(sums[i-1])
        j=0
        result.each do |e|
          sums[i]= sums[i] || []
          sums[i]<< e+@array[i][j] 
          sums[i]<< e+@array[i][j+1] 
          j+=1
        end
        puts "#{i}, res:#{result}, arr[i]:#{@array[i]}, sums[i]:#{sums[i]}"
    end
    puts sums[sums.length-1].max
    
  end
  
  def clear arr
    result= []
    return arr if(arr.length<= 2)
    # return [arr[0], arr[1..2].max, arr[3]] if arr.length == 4
    # binding.pry
    arr[1..arr.length-2].each_slice(2) do |slice|
      result<<slice.max
    end
    [arr[0]]+ result+[arr[-1]]
  end
  
end

Problem19.new.run